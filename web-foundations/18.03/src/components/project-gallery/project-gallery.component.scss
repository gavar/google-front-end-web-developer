@mixin project-gallery-common {
  // swiper
  .project-gallery {
    // full screen for horizontal gallery in portrait mode
    &.horizontal {
      margin: auto -20px;
    }

    .swiper-slide {
      // center horizontally
      display: flex;
      align-items: center;
      justify-content: center;

      // content
      & > * {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
      }
    }

    .swiper-button-hidden,
    .swiper-pagination-hidden {
      display: none;
    }

    .swiper-pagination {
      position: relative;
    }

    // navigation buttons
    .swiper-navigation {

      .swiper-button {
        top: 0;
        bottom: 0;
        width: 40px;
        height: auto;
        margin-top: 0;
        background-image: none;
        transition: .2s;
      }

      // arrow icon
      .swiper-button-icon {
        width: 30px;
        height: 100%;
        margin: auto;
        display: block;
        fill: white;
        stroke: grey;
        stroke-width: 10;
      }

      .swiper-button-prev { left: 0; }
      .swiper-button-next { right: 0; }
      .swiper-button-disabled { display: none; }

      .swiper-button-icon-prev { background: url("/img/arrow-left.svg"); }
      .swiper-button-icon-next { background: url("/img/arrow-right.svg"); }
    }
  }
}

@mixin project-gallery-mobile {
  @include project-gallery-common();

  .project-gallery {
    // work in progress sign
    &.wip {
      display: none;
    }

    // swiper
    .swiper-wrapper {
      max-height: 90vh;
      --chrome-max-height: 90
    }

    .swiper-slide {
      height: auto;
    }

    .swiper-pagination-bullet {
      width: 12px;
      height: 12px;
      margin: auto 8px;
    }
  }
}

@mixin project-gallery-desktop() {
  // aspect box, vertical by default (9:16)
  .project-gallery {
    position: relative;
    max-width: 100%;
    max-height: 100%;
    margin-left: auto;
    margin-right: auto;

    &:before {
      display: block;
      content: "";
    }

    // restore margin
    &.horizontal {
      margin: auto;
    }

    // tablet gallery, vertical (3:4)
    &.tablet {
      max-width: 350px;
      background: url("../assets/ipad-air-2-vertical.png") no-repeat;
      background-size: 100% auto;

      &:before {
        padding-top: (572 / 405) * 100%; // 3:4
      }

      // vertical tablet content
      .swiper-container {
        position: absolute;
        top: 8.5%;
        left: 6.3%;
        width: 87.45%;
        height: 78.5%;
      }
    }

    // phone gallery vertical (9:16)
    &.phone {
      max-width: 230px;
      background: url("../assets/iphone-7-vertical.png") no-repeat;
      background-size: 100% auto;

      &:before {
        padding-top: (625 / 310) * 100%;
      }

      // vertical phone content
      .swiper-container {
        position: absolute;
        top: 12.4%;
        left: 7.5%;
        width: 85%;
        height: 70.8%;
      }
    }

    // phone gallery horizontal (16:9)
    &.phone.horizontal {
      max-width: 463.7px;
      background: url("../assets/iphone-7-horizontal.png") no-repeat;
      background-size: 100% auto;

      &:before {
        padding-top: (310 / 625) * 100%; // 16:9
      }

      // horizontal phone content
      .swiper-container {
        position: absolute;
        top: 6.5%;
        left: 13.1%;
        width: 74.6%;
        height: 77%;
      }
    }

    // work in progress sign
    &.wip {
      max-width: 225px;
    }

    // empty background
    &.none {
      position: relative;
    }
  }

  // swiper
  .project-gallery {

    .swiper-wrapper {
      max-height: initial;
      --chrome-max-height: initial
    }

    .swiper-slide > * {
      max-width: calc(100% + 2px);
      max-height: calc(100% + 2px);
    }

    .swiper-pagination-bullet {
      width: 10px;
      height: 10px;
      margin-left: 5px;
      margin-right: 5px;
    }
  }
}

@mixin project-gallery-hover() {
  .project-gallery {
    .swiper-navigation {
      .swiper-button-icon { opacity: .7; }
      .swiper-button:hover {
        .swiper-button-icon { opacity: 1; }
      }
    }
  }
}
